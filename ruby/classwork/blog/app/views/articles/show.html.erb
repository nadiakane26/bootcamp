<% content_for :javascript do %>
  <script type="module">
    import "add_jquery";
  </script>
  <% end %>
  
  <div class="container col-md">
    <!-- Article Title -->
    <div class="row">
      <div class="col-12">
        <h1 class="display-4 text-center"><%= @article.title %></h1>
      </div>
    </div>
  
    <div id="main-content">
      <!-- Article Body -->
      <div class="row">
        <div class="col">
          <p class="lead"><%= @article.body %></p>
        </div>
      </div>


      <!-- Comments -->
      <div class="row">
      <div class="col-lg-6">
      <h2>Comments</h2>
      <!-- Container for dynamically loaded comments -->
      <div id="comments">
        <%= render @comments %>
      </div>
    
      <% if @comments.next_page %>
        <div id="load-more-container">
          <%= link_to 'Load More', article_path(@article, page: @comments.next_page), remote: true, id: 'load-more-comments', class: 'btn btn-primary' %>
        </div>
      <% end %>
  </div>

  <div class="col-md-auto">
  </div>
  
  <div class="col-lg-5">
    <div class="leave-comment">
      <h2>Leave a Comment:</h2>
      <%= render "comments/form", article: @article %>
    </div>
  </div>
</div>
</div>

    <!-- Buttons Section -->
    <div class="row mt-3 mb-4">
      <div class="col-12 text-center">
        <button type="button" class="btn btn-primary btn-sm" id="toggle">Hide Content</button>
        <%= link_to "Edit", edit_article_path(@article), class: "btn btn-secondary btn-sm mx-1" %>
        <%= button_to "Delete", @article, redirect_to: @articles, method: :delete, class: "btn btn-danger btn-sm",  
                form: { style: "display: inline;" }  %>
      </div>
    </div>
  </div>
  
